\def\SetClass{article}
\documentclass{\SetClass}
% \usepackage[lined,boxed,commentsnumbered]{algorithm2e}
\usepackage[linesnumbered, ruled]{algorithm2e}
\usepackage{algorithmic}

\SetKwRepeat{Do}{do}{while}%
\begin{document}
\begin{algorithm}[H]
  \SetAlgoLined
  \KwData{this text}
  \KwResult{how to write algorithm with \LaTeX2e }

  initialization\;
  \While{not at end of this document}{
    read current\;
    \eIf{understand}{
      go to next section\;
      current section becomes this one\;
      }{
      go back to the beginning of current section\;
      }
    }
  \caption{How to write algorithms}
\end{algorithm}

\begin{algorithm}
    \caption{Simulation-optimization heuristic}\label{algorithm}
    \KwData{current period $t$, initial inventory $I_{t-1}$, initial capital $B_{t-1}$, demand samples}
    \KwResult{Optimal order quantity $Q^{\ast}_{t}$}
    $r\leftarrow t$\;
    $\Delta B^{\ast}\leftarrow -\infty$\;
    \While{$\Delta B\leq \Delta B^{\ast}$ and $r\leq T$}{$Q\leftarrow\arg\max_{Q\geq 0}\Delta B^{Q}_{t,r}(I_{t-1},B_{t-1})$\;
    $\Delta B\leftarrow \Delta B^{Q}_{t,r}(I_{t-1},B_{t-1})/(r-t+1)$\;
    \If{$\Delta B\geq \Delta B^{\ast}$}{$Q^{\ast}\leftarrow Q$\;
    $\Delta B^{\ast}\leftarrow \Delta B$\;}
    $r\leftarrow r+1$\;}
\end{algorithm}

\begin{algorithm}[H]
    \KwData{this text}
    \KwResult{how to write algorithm with \LaTeX2e }
    initialization\;
    \While{not at end of this document}{
      read current\;
      \Repeat{this end condition}{
        do these things\;
      }
      \eIf{understand}{
        go to next section\;
        current section becomes this one\;
      }{
        go back to the beginning of current section\;
      }
      \Do{this end condition}{
        do these things\;
      }
    }
    \caption{How to write algorithms}
  \end{algorithm}


\begin{algorithm} \SetKwData{Left}{left}\SetKwData{This}{this}\SetKwData{Up}{up} \SetKwFunction{Union}{Union}\SetKwFunction{FindCompress}{FindCompress} \SetKwInOut{Input}{input}\SetKwInOut{Output}{output}
	
	\Input{A bitmap $Im$ of size $w\times l$} 
	\Output{A partition of the bitmap}
	 \BlankLine 
	 
	 \emph{special treatment of the first line}\; 
	 \For{$i\leftarrow 2$ \KwTo $l$}{ 
	 	\emph{special treatment of the first element of line $i$}\; 
	 	\For{$j\leftarrow 2$ \KwTo $w$}{\label{forins} \Left$\leftarrow$\FindCompress{$Im[i,j-1]$}\; 
	 	\Up$\leftarrow$ \FindCompress{$Im[i-1,]$}\; 
	 	\This$\leftarrow$ \FindCompress{$Im[i,j]$}\; 
	 	\If(\tcp*[h]{O(\Left,\This)==1})
	 		{\Left compatible with \This}{\label{lt} 
	 			\lIf{\Left $<$ \This}{\Union{\Left,\This}}
	 			 \lElse{\Union{\This,\Left}} } 
 	    \If(\tcp*[f]{O(\Up,\This)==1}){\Up compatible with
 			 	 \This}{\label{ut} 
 			 	 \lIf{\Up $<$ \This}{\Union{\Up,\This}} 
 			 	 \tcp{\This is put under \Up to keep tree as flat as possible}\label{cmt} \lElse{\Union{\This,\Up}}\tcp*[h]{\This linked to \Up}\label{lelse}
 		 	  }
 	 	   }
 		 \lForEach{element $e$ of the line $i$}{\FindCompress{p}} 
 	 } 
 	 	  \caption{disjoint decomposition}
 	 	  \label{algo_disjdecomp} 
 	 \end{algorithm}


\begin{algorithm} 
    \caption{Calculate $y = x^n$} 
    \label{alg3} 
    \begin{algorithmic}
        \REQUIRE $n \geq 0 \vee x \neq 0$ 
        \ENSURE $y = x^n$ 
        \STATE $y \gets 1$ 
        \IF{$n < 0$} 
        \STATE $X \gets 1 / x$ 
        \STATE $N \gets -n$ 
        \ELSE 
        \STATE $X \gets x$ 
        \STATE $N \gets n$ 
        \ENDIF 
        \WHILE{$N \neq 0$} 
        \IF{$N$ is even} 
        \STATE $X \gets X \times X$ 
        \STATE $N \gets N / 2$ 
        \ELSE[$N$ is odd] \STATE $y \gets y \times X$ 
        \STATE $N \gets N - 1$ 
        \ENDIF 
        \ENDWHILE 
    \end{algorithmic} 
\end{algorithm}

\end{document}